# Output File Organization

This document describes how generated files are organized in the DMA model analysis directory.

## Directory Structure

```
dma_model/
├── bin/                    # All Python scripts and packages
│   ├── comprehensive_analysis.py
│   ├── generate_optimization_plots.py
│   ├── run_payload_sweep.py
│   ├── clean_analysis.py
│   ├── quick_start.py
│   ├── run_complete_analysis.py
│   ├── config_explorer.py
│   ├── example_both_paths.py
│   ├── pyperf/             # Performance calculation library
│   ├── analytical/         # Analytical model code
│   └── simpy_model/        # SimPy simulation code
│
├── csv/                    # All CSV data files (generated)
│   ├── analysis_read_path.csv
│   ├── analysis_write_path.csv
│   ├── model_comparison.csv
│   ├── optimization_results.csv
│   ├── payload_sweep_analytical.csv
│   ├── payload_sweep_simpy.csv
│   └── validation_report.csv
│
├── assets/                 # All PNG visualization files (generated)
│   ├── bottleneck_analysis.png
│   ├── comparison_baseline.png
│   ├── comparison_optimized.png
│   ├── optimization_waterfall.png
│   ├── payload_sweep_separate.png
│   ├── sram_vs_performance.png
│   └── write_path_analysis.png
│
├── reports/                # Markdown reports (generated, if any)
│   └── (reserved for future markdown reports)
│
├── docs/                   # Documentation (hand-written)
│   ├── complete_rw_analysis.md
│   ├── fixes_summary.md
│   ├── rw_integration_summary.md
│   └── sram_insights.md
│
├── run_analysis.sh         # Master script to run comprehensive analysis
├── README.md               # Project overview
└── OUTPUT_ORGANIZATION.md  # This file
```

## File Categories

### CSV Files (`csv/` directory)

All CSV data files are saved to the `csv/` directory for easy organization and processing.

**READ/WRITE Analysis:**
- `analysis_read_path.csv` - READ path bandwidth analysis across payload sizes
- `analysis_write_path.csv` - WRITE path bandwidth analysis across payload sizes

**Model Validation:**
- `validation_report.csv` - SimPy vs analytical model validation results
- `model_comparison.csv` - Channel sweep comparison between models

**Optimization Studies:**
- `optimization_results.csv` - Incremental optimization effects
- `payload_sweep_analytical.csv` - Analytical model payload sweep
- `payload_sweep_simpy.csv` - SimPy simulation payload sweep

### Visualization Files (`assets/` directory)

All PNG plot files are saved to the `assets/` directory.

**READ Path Analysis:**
- `optimization_waterfall.png` - Step-by-step READ optimization effects (2KB payload)
- `bottleneck_analysis.png` - Pipeline depth vs bandwidth for all payloads
- `sram_vs_performance.png` - SRAM budget vs bandwidth tradeoffs
- `payload_sweep_separate.png` - READ and WRITE bandwidth vs payload size

**WRITE Path Analysis:**
- `write_path_analysis.png` - WRITE path bandwidth analysis (independent)

**Model Comparison:**
- `comparison_baseline.png` - Analytical vs SimPy (baseline config)
- `comparison_optimized.png` - Analytical vs SimPy (optimized config)

### Report Files (`reports/` directory)

Reserved for markdown or text-based analysis reports generated by scripts.

Currently, reports are in the `docs/` directory:
- `complete_rw_analysis.md` - Comprehensive READ/WRITE analysis
- `fixes_summary.md` - Summary of model fixes
- `rw_integration_summary.md` - Integration summary
- `sram_insights.md` - SRAM sizing insights

Future scripts that generate markdown reports should save to `reports/`.

## Scripts and Their Outputs

### Main Analysis Scripts (in `bin/` directory)

| Script | CSV Outputs | PNG Outputs |
|--------|------------|-------------|
| `bin/comprehensive_analysis.py` | `analysis_read_path.csv`<br>`analysis_write_path.csv` | `payload_sweep_separate.png` |
| `bin/generate_optimization_plots.py` | None | `optimization_waterfall.png`<br>`bottleneck_analysis.png`<br>`sram_vs_performance.png`<br>`write_path_analysis.png` |
| `bin/run_payload_sweep.py` | `payload_sweep_analytical.csv`<br>`payload_sweep_simpy.csv` | None |

### Validation Scripts (in `bin/simpy_model/` directory)

| Script | CSV Outputs | PNG Outputs |
|--------|------------|-------------|
| `bin/simpy_model/validate.py` | `validation_report.csv` | None |
| `bin/simpy_model/compare.py` | `model_comparison.csv` | `comparison_baseline.png`<br>`comparison_optimized.png` |
| `bin/simpy_model/optimizations.py` | `optimization_results.csv` | None |

## Usage Examples

### Easy Mode: Use the Master Script

```bash
# Run comprehensive analysis (generates all key files)
./run_analysis.sh

# This single command runs:
#   1. Comprehensive READ+WRITE analysis
#   2. Optimization visualization generation
#   3. Payload sweep analysis
#
# See run_analysis.sh for all available options (most are commented out)
```

### Manual Mode: Run Individual Scripts

```bash
# Quick analysis (CSV + PNG)
python3 bin/comprehensive_analysis.py --save-csv --visualize

# Generate optimization plots (PNG only)
python3 bin/generate_optimization_plots.py

# Payload sweep (CSV only)
python3 bin/run_payload_sweep.py --analytical-only --save-csv

# Full validation (CSV + PNG)
python3 bin/simpy_model/validate.py
python3 bin/simpy_model/compare.py
```

### Clean Output Directories

```bash
# Remove all generated files
rm -rf csv/ assets/

# Regenerate from scratch using master script
./run_analysis.sh
```

## Notes

1. **Directory Creation**: Scripts automatically create `csv/` and `assets/` directories if they don't exist.

2. **Existing Documentation**: The `docs/` directory contains hand-written analysis and insights. Keep these separate from generated reports.

3. **Version Control**: Consider adding to `.gitignore`:
   ```
   csv/
   assets/
   reports/*.md
   ```

   But keep documentation:
   ```
   !docs/
   ```

4. **File Naming**: All generated files use descriptive names that indicate:
   - Content type (analysis, comparison, optimization, etc.)
   - Path analyzed (read, write, separate)
   - Source (analytical, simpy)

5. **READ and WRITE Separation**: All analyses clearly separate READ and WRITE paths:
   - Files named with `_read_` or `_write_` or `_separate`
   - Plots labeled "READ Path" or "WRITE Path" with "(Independent)" note
   - CSV files contain `path` column indicating READ or WRITE

## Migration Notes

If you have old files in the root directory, organize them:

```bash
# Move CSV files
mkdir -p csv
mv *.csv csv/ 2>/dev/null || true

# Move PNG files
mkdir -p assets
mv *.png assets/ 2>/dev/null || true

# Create reports directory
mkdir -p reports
```

## Contact

For questions about file organization or adding new outputs:
- Update this document when adding new scripts
- Follow the naming conventions
- Use appropriate directories (csv/, assets/, reports/)
