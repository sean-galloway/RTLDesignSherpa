// Bridge: bridge_1x5_rd
// Generated by: BridgeModuleGenerator
// 
// Architecture:
//   Master → Master Adapter → Crossbar → Slave Adapter → Slave
//
//   Master Adapter contains:
//   - Timing wrapper (axi4_slave_wr/rd)
//   - Address decode
//   - Width adaptation
//
//   Slave Adapter contains:
//   - Timing wrapper (axi4_master_wr/rd) or Protocol converter (axi4_to_apb/axil)

`timescale 1ns / 1ps

import bridge_1x5_rd_pkg::*;

module bridge_1x5_rd (
    input  logic aclk,
    input  logic aresetn,

    // Master 0: cpu_rd (rd)
    // Master: cpu_rd (rd)
    input  logic [3:0]  cpu_rd_axi_arid,
    input  logic [31:0]  cpu_rd_axi_araddr,
    input  logic [7:0]  cpu_rd_axi_arlen,
    input  logic [2:0]  cpu_rd_axi_arsize,
    input  logic [1:0]  cpu_rd_axi_arburst,
    input  logic         cpu_rd_axi_arlock,
    input  logic [3:0]  cpu_rd_axi_arcache,
    input  logic [2:0]  cpu_rd_axi_arprot,
    input  logic [3:0]  cpu_rd_axi_arqos,
    input  logic [3:0]  cpu_rd_axi_arregion,
    input  logic         cpu_rd_axi_aruser,
    input  logic         cpu_rd_axi_arvalid,
    output  logic         cpu_rd_axi_arready,

    output  logic [3:0]  cpu_rd_axi_rid,
    output  logic [63:0]  cpu_rd_axi_rdata,
    output  logic [1:0]  cpu_rd_axi_rresp,
    output  logic         cpu_rd_axi_rlast,
    output  logic         cpu_rd_axi_ruser,
    output  logic         cpu_rd_axi_rvalid,
    input  logic         cpu_rd_axi_rready,

    // Slave 0: periph_rd
    // AXI4 Slave: periph_rd
    output  logic [3:0]  periph_rd_axi_arid,
    output  logic [31:0]  periph_rd_axi_araddr,
    output  logic [7:0]  periph_rd_axi_arlen,
    output  logic [2:0]  periph_rd_axi_arsize,
    output  logic [1:0]  periph_rd_axi_arburst,
    output  logic         periph_rd_axi_arlock,
    output  logic [3:0]  periph_rd_axi_arcache,
    output  logic [2:0]  periph_rd_axi_arprot,
    output  logic [3:0]  periph_rd_axi_arqos,
    output  logic [3:0]  periph_rd_axi_arregion,
    output  logic         periph_rd_axi_aruser,
    output  logic         periph_rd_axi_arvalid,
    input  logic         periph_rd_axi_arready,

    input  logic [3:0]  periph_rd_axi_rid,
    input  logic [31:0]  periph_rd_axi_rdata,
    input  logic [1:0]  periph_rd_axi_rresp,
    input  logic         periph_rd_axi_rlast,
    input  logic         periph_rd_axi_ruser,
    input  logic         periph_rd_axi_rvalid,
    output  logic         periph_rd_axi_rready,

    // Slave 1: ddr_rd
    // AXI4 Slave: ddr_rd
    output  logic [3:0]  ddr_rd_axi_arid,
    output  logic [31:0]  ddr_rd_axi_araddr,
    output  logic [7:0]  ddr_rd_axi_arlen,
    output  logic [2:0]  ddr_rd_axi_arsize,
    output  logic [1:0]  ddr_rd_axi_arburst,
    output  logic         ddr_rd_axi_arlock,
    output  logic [3:0]  ddr_rd_axi_arcache,
    output  logic [2:0]  ddr_rd_axi_arprot,
    output  logic [3:0]  ddr_rd_axi_arqos,
    output  logic [3:0]  ddr_rd_axi_arregion,
    output  logic         ddr_rd_axi_aruser,
    output  logic         ddr_rd_axi_arvalid,
    input  logic         ddr_rd_axi_arready,

    input  logic [3:0]  ddr_rd_axi_rid,
    input  logic [63:0]  ddr_rd_axi_rdata,
    input  logic [1:0]  ddr_rd_axi_rresp,
    input  logic         ddr_rd_axi_rlast,
    input  logic         ddr_rd_axi_ruser,
    input  logic         ddr_rd_axi_rvalid,
    output  logic         ddr_rd_axi_rready,

    // Slave 2: hbm_rd
    // AXI4 Slave: hbm_rd
    output  logic [3:0]  hbm_rd_axi_arid,
    output  logic [31:0]  hbm_rd_axi_araddr,
    output  logic [7:0]  hbm_rd_axi_arlen,
    output  logic [2:0]  hbm_rd_axi_arsize,
    output  logic [1:0]  hbm_rd_axi_arburst,
    output  logic         hbm_rd_axi_arlock,
    output  logic [3:0]  hbm_rd_axi_arcache,
    output  logic [2:0]  hbm_rd_axi_arprot,
    output  logic [3:0]  hbm_rd_axi_arqos,
    output  logic [3:0]  hbm_rd_axi_arregion,
    output  logic         hbm_rd_axi_aruser,
    output  logic         hbm_rd_axi_arvalid,
    input  logic         hbm_rd_axi_arready,

    input  logic [3:0]  hbm_rd_axi_rid,
    input  logic [127:0]  hbm_rd_axi_rdata,
    input  logic [1:0]  hbm_rd_axi_rresp,
    input  logic         hbm_rd_axi_rlast,
    input  logic         hbm_rd_axi_ruser,
    input  logic         hbm_rd_axi_rvalid,
    output  logic         hbm_rd_axi_rready,

    // Slave 3: apb_periph
    // APB Slave: apb_periph
    output  logic         apb_periph_psel,
    output  logic [31:0]  apb_periph_paddr,
    output  logic         apb_periph_penable,
    output  logic         apb_periph_pwrite,
    output  logic [31:0]  apb_periph_pwdata,
    output  logic [3:0]  apb_periph_pstrb,
    output  logic [2:0]  apb_periph_pprot,
    input  logic [31:0]  apb_periph_prdata,
    input  logic         apb_periph_pready,
    input  logic         apb_periph_pslverr,

    // Slave 4: axil_periph
    // AXI4 Slave: axil_periph
    output  logic [3:0]  axil_periph_axi_arid,
    output  logic [31:0]  axil_periph_axi_araddr,
    output  logic [7:0]  axil_periph_axi_arlen,
    output  logic [2:0]  axil_periph_axi_arsize,
    output  logic [1:0]  axil_periph_axi_arburst,
    output  logic         axil_periph_axi_arlock,
    output  logic [3:0]  axil_periph_axi_arcache,
    output  logic [2:0]  axil_periph_axi_arprot,
    output  logic [3:0]  axil_periph_axi_arqos,
    output  logic [3:0]  axil_periph_axi_arregion,
    output  logic         axil_periph_axi_aruser,
    output  logic         axil_periph_axi_arvalid,
    input  logic         axil_periph_axi_arready,

    input  logic [3:0]  axil_periph_axi_rid,
    input  logic [31:0]  axil_periph_axi_rdata,
    input  logic [1:0]  axil_periph_axi_rresp,
    input  logic         axil_periph_axi_rlast,
    input  logic         axil_periph_axi_ruser,
    input  logic         axil_periph_axi_rvalid,
    output  logic         axil_periph_axi_rready
);

    localparam NUM_SLAVES = 5;

    // cpu_rd Adapter outputs
    logic [NUM_SLAVES-1:0] cpu_rd_slave_select_ar;
    // 32b path
    axi4_ar_t     cpu_rd_32b_ar;
    logic         cpu_rd_32b_arvalid;
    logic         cpu_rd_32b_arready;
    axi4_r_32b_t  cpu_rd_32b_r;
    logic         cpu_rd_32b_rvalid;
    logic         cpu_rd_32b_rready;
    // 64b path
    axi4_ar_t     cpu_rd_64b_ar;
    logic         cpu_rd_64b_arvalid;
    logic         cpu_rd_64b_arready;
    axi4_r_64b_t  cpu_rd_64b_r;
    logic         cpu_rd_64b_rvalid;
    logic         cpu_rd_64b_rready;
    // 128b path
    axi4_ar_t     cpu_rd_128b_ar;
    logic         cpu_rd_128b_arvalid;
    logic         cpu_rd_128b_arready;
    axi4_r_128b_t  cpu_rd_128b_r;
    logic         cpu_rd_128b_rvalid;
    logic         cpu_rd_128b_rready;

    // Crossbar-to-Slave Internal AXI4 Signals
    // periph_rd (AXI4, 32b AXI4 interface)
    logic [3:0]                xbar_periph_rd_axi_arid;
    logic [31:0]               xbar_periph_rd_axi_araddr;
    logic [7:0]                xbar_periph_rd_axi_arlen;
    logic [2:0]                xbar_periph_rd_axi_arsize;
    logic [1:0]                xbar_periph_rd_axi_arburst;
    logic                      xbar_periph_rd_axi_arlock;
    logic [3:0]                xbar_periph_rd_axi_arcache;
    logic [2:0]                xbar_periph_rd_axi_arprot;
    logic [3:0]                xbar_periph_rd_axi_arqos;
    logic [3:0]                xbar_periph_rd_axi_arregion;
    logic                      xbar_periph_rd_axi_aruser;
    logic                      xbar_periph_rd_axi_arvalid;
    logic                      xbar_periph_rd_axi_arready;
    logic [3:0]                xbar_periph_rd_axi_rid;
    logic [31:0] xbar_periph_rd_axi_rdata;
    logic [1:0]                xbar_periph_rd_axi_rresp;
    logic                      xbar_periph_rd_axi_rlast;
    logic                      xbar_periph_rd_axi_ruser;
    logic                      xbar_periph_rd_axi_rvalid;
    logic                      xbar_periph_rd_axi_rready;

    // ddr_rd (AXI4, 64b AXI4 interface)
    logic [3:0]                xbar_ddr_rd_axi_arid;
    logic [31:0]               xbar_ddr_rd_axi_araddr;
    logic [7:0]                xbar_ddr_rd_axi_arlen;
    logic [2:0]                xbar_ddr_rd_axi_arsize;
    logic [1:0]                xbar_ddr_rd_axi_arburst;
    logic                      xbar_ddr_rd_axi_arlock;
    logic [3:0]                xbar_ddr_rd_axi_arcache;
    logic [2:0]                xbar_ddr_rd_axi_arprot;
    logic [3:0]                xbar_ddr_rd_axi_arqos;
    logic [3:0]                xbar_ddr_rd_axi_arregion;
    logic                      xbar_ddr_rd_axi_aruser;
    logic                      xbar_ddr_rd_axi_arvalid;
    logic                      xbar_ddr_rd_axi_arready;
    logic [3:0]                xbar_ddr_rd_axi_rid;
    logic [63:0] xbar_ddr_rd_axi_rdata;
    logic [1:0]                xbar_ddr_rd_axi_rresp;
    logic                      xbar_ddr_rd_axi_rlast;
    logic                      xbar_ddr_rd_axi_ruser;
    logic                      xbar_ddr_rd_axi_rvalid;
    logic                      xbar_ddr_rd_axi_rready;

    // hbm_rd (AXI4, 128b AXI4 interface)
    logic [3:0]                xbar_hbm_rd_axi_arid;
    logic [31:0]               xbar_hbm_rd_axi_araddr;
    logic [7:0]                xbar_hbm_rd_axi_arlen;
    logic [2:0]                xbar_hbm_rd_axi_arsize;
    logic [1:0]                xbar_hbm_rd_axi_arburst;
    logic                      xbar_hbm_rd_axi_arlock;
    logic [3:0]                xbar_hbm_rd_axi_arcache;
    logic [2:0]                xbar_hbm_rd_axi_arprot;
    logic [3:0]                xbar_hbm_rd_axi_arqos;
    logic [3:0]                xbar_hbm_rd_axi_arregion;
    logic                      xbar_hbm_rd_axi_aruser;
    logic                      xbar_hbm_rd_axi_arvalid;
    logic                      xbar_hbm_rd_axi_arready;
    logic [3:0]                xbar_hbm_rd_axi_rid;
    logic [127:0] xbar_hbm_rd_axi_rdata;
    logic [1:0]                xbar_hbm_rd_axi_rresp;
    logic                      xbar_hbm_rd_axi_rlast;
    logic                      xbar_hbm_rd_axi_ruser;
    logic                      xbar_hbm_rd_axi_rvalid;
    logic                      xbar_hbm_rd_axi_rready;

    // apb_periph (APB, 32b AXI4 interface)
    logic [3:0]                xbar_apb_periph_axi_arid;
    logic [31:0]               xbar_apb_periph_axi_araddr;
    logic [7:0]                xbar_apb_periph_axi_arlen;
    logic [2:0]                xbar_apb_periph_axi_arsize;
    logic [1:0]                xbar_apb_periph_axi_arburst;
    logic                      xbar_apb_periph_axi_arlock;
    logic [3:0]                xbar_apb_periph_axi_arcache;
    logic [2:0]                xbar_apb_periph_axi_arprot;
    logic [3:0]                xbar_apb_periph_axi_arqos;
    logic [3:0]                xbar_apb_periph_axi_arregion;
    logic                      xbar_apb_periph_axi_aruser;
    logic                      xbar_apb_periph_axi_arvalid;
    logic                      xbar_apb_periph_axi_arready;
    logic [3:0]                xbar_apb_periph_axi_rid;
    logic [31:0] xbar_apb_periph_axi_rdata;
    logic [1:0]                xbar_apb_periph_axi_rresp;
    logic                      xbar_apb_periph_axi_rlast;
    logic                      xbar_apb_periph_axi_ruser;
    logic                      xbar_apb_periph_axi_rvalid;
    logic                      xbar_apb_periph_axi_rready;

    // axil_periph (AXIL, 32b AXI4 interface)
    logic [3:0]                xbar_axil_periph_axi_arid;
    logic [31:0]               xbar_axil_periph_axi_araddr;
    logic [7:0]                xbar_axil_periph_axi_arlen;
    logic [2:0]                xbar_axil_periph_axi_arsize;
    logic [1:0]                xbar_axil_periph_axi_arburst;
    logic                      xbar_axil_periph_axi_arlock;
    logic [3:0]                xbar_axil_periph_axi_arcache;
    logic [2:0]                xbar_axil_periph_axi_arprot;
    logic [3:0]                xbar_axil_periph_axi_arqos;
    logic [3:0]                xbar_axil_periph_axi_arregion;
    logic                      xbar_axil_periph_axi_aruser;
    logic                      xbar_axil_periph_axi_arvalid;
    logic                      xbar_axil_periph_axi_arready;
    logic [3:0]                xbar_axil_periph_axi_rid;
    logic [31:0] xbar_axil_periph_axi_rdata;
    logic [1:0]                xbar_axil_periph_axi_rresp;
    logic                      xbar_axil_periph_axi_rlast;
    logic                      xbar_axil_periph_axi_ruser;
    logic                      xbar_axil_periph_axi_rvalid;
    logic                      xbar_axil_periph_axi_rready;

    // ================================================================
    // CPU_RD Adapter
    // ================================================================
    cpu_rd_adapter u_cpu_rd_adapter (
        .aclk(aclk),
        .aresetn(aresetn),

        // External interface
        .cpu_rd_axi_arid(cpu_rd_axi_arid),
        .cpu_rd_axi_araddr(cpu_rd_axi_araddr),
        .cpu_rd_axi_arlen(cpu_rd_axi_arlen),
        .cpu_rd_axi_arsize(cpu_rd_axi_arsize),
        .cpu_rd_axi_arburst(cpu_rd_axi_arburst),
        .cpu_rd_axi_arlock(cpu_rd_axi_arlock),
        .cpu_rd_axi_arcache(cpu_rd_axi_arcache),
        .cpu_rd_axi_arprot(cpu_rd_axi_arprot),
        .cpu_rd_axi_arqos(cpu_rd_axi_arqos),
        .cpu_rd_axi_arregion(cpu_rd_axi_arregion),
        .cpu_rd_axi_aruser(cpu_rd_axi_aruser),
        .cpu_rd_axi_arvalid(cpu_rd_axi_arvalid),
        .cpu_rd_axi_arready(cpu_rd_axi_arready),
        .cpu_rd_axi_rid(cpu_rd_axi_rid),
        .cpu_rd_axi_rdata(cpu_rd_axi_rdata),
        .cpu_rd_axi_rresp(cpu_rd_axi_rresp),
        .cpu_rd_axi_rlast(cpu_rd_axi_rlast),
        .cpu_rd_axi_ruser(cpu_rd_axi_ruser),
        .cpu_rd_axi_rvalid(cpu_rd_axi_rvalid),
        .cpu_rd_axi_rready(cpu_rd_axi_rready),

        // Decode outputs
        .slave_select_ar(cpu_rd_slave_select_ar),

        // 32b path
        .cpu_rd_32b_ar(cpu_rd_32b_ar),
        .cpu_rd_32b_arvalid(cpu_rd_32b_arvalid),
        .cpu_rd_32b_arready(cpu_rd_32b_arready),
        .cpu_rd_32b_r(cpu_rd_32b_r),
        .cpu_rd_32b_rvalid(cpu_rd_32b_rvalid),
        .cpu_rd_32b_rready(cpu_rd_32b_rready),

        // 64b path
        .cpu_rd_64b_ar(cpu_rd_64b_ar),
        .cpu_rd_64b_arvalid(cpu_rd_64b_arvalid),
        .cpu_rd_64b_arready(cpu_rd_64b_arready),
        .cpu_rd_64b_r(cpu_rd_64b_r),
        .cpu_rd_64b_rvalid(cpu_rd_64b_rvalid),
        .cpu_rd_64b_rready(cpu_rd_64b_rready),

        // 128b path
        .cpu_rd_128b_ar(cpu_rd_128b_ar),
        .cpu_rd_128b_arvalid(cpu_rd_128b_arvalid),
        .cpu_rd_128b_arready(cpu_rd_128b_arready),
        .cpu_rd_128b_r(cpu_rd_128b_r),
        .cpu_rd_128b_rvalid(cpu_rd_128b_rvalid),
        .cpu_rd_128b_rready(cpu_rd_128b_rready)
    );

    // ================================================================
    // Crossbar Module Instantiation
    // ================================================================
    bridge_1x5_rd_xbar u_xbar (
        .aclk(aclk),
        .aresetn(aresetn),

        // cpu_rd adapter outputs
        .cpu_rd_slave_select_ar(cpu_rd_slave_select_ar),
        // 32b path
        .cpu_rd_32b_ar(cpu_rd_32b_ar),
        .cpu_rd_32b_arvalid(cpu_rd_32b_arvalid),
        .cpu_rd_32b_arready(cpu_rd_32b_arready),
        .cpu_rd_32b_r(cpu_rd_32b_r),
        .cpu_rd_32b_rvalid(cpu_rd_32b_rvalid),
        .cpu_rd_32b_rready(cpu_rd_32b_rready),
        // 64b path
        .cpu_rd_64b_ar(cpu_rd_64b_ar),
        .cpu_rd_64b_arvalid(cpu_rd_64b_arvalid),
        .cpu_rd_64b_arready(cpu_rd_64b_arready),
        .cpu_rd_64b_r(cpu_rd_64b_r),
        .cpu_rd_64b_rvalid(cpu_rd_64b_rvalid),
        .cpu_rd_64b_rready(cpu_rd_64b_rready),
        // 128b path
        .cpu_rd_128b_ar(cpu_rd_128b_ar),
        .cpu_rd_128b_arvalid(cpu_rd_128b_arvalid),
        .cpu_rd_128b_arready(cpu_rd_128b_arready),
        .cpu_rd_128b_r(cpu_rd_128b_r),
        .cpu_rd_128b_rvalid(cpu_rd_128b_rvalid),
        .cpu_rd_128b_rready(cpu_rd_128b_rready),

        // Slave 0: periph_rd
        .periph_rd_axi_arid(xbar_periph_rd_axi_arid),
        .periph_rd_axi_araddr(xbar_periph_rd_axi_araddr),
        .periph_rd_axi_arlen(xbar_periph_rd_axi_arlen),
        .periph_rd_axi_arsize(xbar_periph_rd_axi_arsize),
        .periph_rd_axi_arburst(xbar_periph_rd_axi_arburst),
        .periph_rd_axi_arlock(xbar_periph_rd_axi_arlock),
        .periph_rd_axi_arcache(xbar_periph_rd_axi_arcache),
        .periph_rd_axi_arprot(xbar_periph_rd_axi_arprot),
        .periph_rd_axi_arqos(xbar_periph_rd_axi_arqos),
        .periph_rd_axi_arregion(xbar_periph_rd_axi_arregion),
        .periph_rd_axi_aruser(xbar_periph_rd_axi_aruser),
        .periph_rd_axi_arvalid(xbar_periph_rd_axi_arvalid),
        .periph_rd_axi_arready(xbar_periph_rd_axi_arready),
        .periph_rd_axi_rid(xbar_periph_rd_axi_rid),
        .periph_rd_axi_rdata(xbar_periph_rd_axi_rdata),
        .periph_rd_axi_rresp(xbar_periph_rd_axi_rresp),
        .periph_rd_axi_rlast(xbar_periph_rd_axi_rlast),
        .periph_rd_axi_ruser(xbar_periph_rd_axi_ruser),
        .periph_rd_axi_rvalid(xbar_periph_rd_axi_rvalid),
        .periph_rd_axi_rready(xbar_periph_rd_axi_rready),

        // Slave 1: ddr_rd
        .ddr_rd_axi_arid(xbar_ddr_rd_axi_arid),
        .ddr_rd_axi_araddr(xbar_ddr_rd_axi_araddr),
        .ddr_rd_axi_arlen(xbar_ddr_rd_axi_arlen),
        .ddr_rd_axi_arsize(xbar_ddr_rd_axi_arsize),
        .ddr_rd_axi_arburst(xbar_ddr_rd_axi_arburst),
        .ddr_rd_axi_arlock(xbar_ddr_rd_axi_arlock),
        .ddr_rd_axi_arcache(xbar_ddr_rd_axi_arcache),
        .ddr_rd_axi_arprot(xbar_ddr_rd_axi_arprot),
        .ddr_rd_axi_arqos(xbar_ddr_rd_axi_arqos),
        .ddr_rd_axi_arregion(xbar_ddr_rd_axi_arregion),
        .ddr_rd_axi_aruser(xbar_ddr_rd_axi_aruser),
        .ddr_rd_axi_arvalid(xbar_ddr_rd_axi_arvalid),
        .ddr_rd_axi_arready(xbar_ddr_rd_axi_arready),
        .ddr_rd_axi_rid(xbar_ddr_rd_axi_rid),
        .ddr_rd_axi_rdata(xbar_ddr_rd_axi_rdata),
        .ddr_rd_axi_rresp(xbar_ddr_rd_axi_rresp),
        .ddr_rd_axi_rlast(xbar_ddr_rd_axi_rlast),
        .ddr_rd_axi_ruser(xbar_ddr_rd_axi_ruser),
        .ddr_rd_axi_rvalid(xbar_ddr_rd_axi_rvalid),
        .ddr_rd_axi_rready(xbar_ddr_rd_axi_rready),

        // Slave 2: hbm_rd
        .hbm_rd_axi_arid(xbar_hbm_rd_axi_arid),
        .hbm_rd_axi_araddr(xbar_hbm_rd_axi_araddr),
        .hbm_rd_axi_arlen(xbar_hbm_rd_axi_arlen),
        .hbm_rd_axi_arsize(xbar_hbm_rd_axi_arsize),
        .hbm_rd_axi_arburst(xbar_hbm_rd_axi_arburst),
        .hbm_rd_axi_arlock(xbar_hbm_rd_axi_arlock),
        .hbm_rd_axi_arcache(xbar_hbm_rd_axi_arcache),
        .hbm_rd_axi_arprot(xbar_hbm_rd_axi_arprot),
        .hbm_rd_axi_arqos(xbar_hbm_rd_axi_arqos),
        .hbm_rd_axi_arregion(xbar_hbm_rd_axi_arregion),
        .hbm_rd_axi_aruser(xbar_hbm_rd_axi_aruser),
        .hbm_rd_axi_arvalid(xbar_hbm_rd_axi_arvalid),
        .hbm_rd_axi_arready(xbar_hbm_rd_axi_arready),
        .hbm_rd_axi_rid(xbar_hbm_rd_axi_rid),
        .hbm_rd_axi_rdata(xbar_hbm_rd_axi_rdata),
        .hbm_rd_axi_rresp(xbar_hbm_rd_axi_rresp),
        .hbm_rd_axi_rlast(xbar_hbm_rd_axi_rlast),
        .hbm_rd_axi_ruser(xbar_hbm_rd_axi_ruser),
        .hbm_rd_axi_rvalid(xbar_hbm_rd_axi_rvalid),
        .hbm_rd_axi_rready(xbar_hbm_rd_axi_rready),

        // Slave 3: apb_periph
        .apb_periph_axi_arid(xbar_apb_periph_axi_arid),
        .apb_periph_axi_araddr(xbar_apb_periph_axi_araddr),
        .apb_periph_axi_arlen(xbar_apb_periph_axi_arlen),
        .apb_periph_axi_arsize(xbar_apb_periph_axi_arsize),
        .apb_periph_axi_arburst(xbar_apb_periph_axi_arburst),
        .apb_periph_axi_arlock(xbar_apb_periph_axi_arlock),
        .apb_periph_axi_arcache(xbar_apb_periph_axi_arcache),
        .apb_periph_axi_arprot(xbar_apb_periph_axi_arprot),
        .apb_periph_axi_arqos(xbar_apb_periph_axi_arqos),
        .apb_periph_axi_arregion(xbar_apb_periph_axi_arregion),
        .apb_periph_axi_aruser(xbar_apb_periph_axi_aruser),
        .apb_periph_axi_arvalid(xbar_apb_periph_axi_arvalid),
        .apb_periph_axi_arready(xbar_apb_periph_axi_arready),
        .apb_periph_axi_rid(xbar_apb_periph_axi_rid),
        .apb_periph_axi_rdata(xbar_apb_periph_axi_rdata),
        .apb_periph_axi_rresp(xbar_apb_periph_axi_rresp),
        .apb_periph_axi_rlast(xbar_apb_periph_axi_rlast),
        .apb_periph_axi_ruser(xbar_apb_periph_axi_ruser),
        .apb_periph_axi_rvalid(xbar_apb_periph_axi_rvalid),
        .apb_periph_axi_rready(xbar_apb_periph_axi_rready),

        // Slave 4: axil_periph
        .axil_periph_axi_arid(xbar_axil_periph_axi_arid),
        .axil_periph_axi_araddr(xbar_axil_periph_axi_araddr),
        .axil_periph_axi_arlen(xbar_axil_periph_axi_arlen),
        .axil_periph_axi_arsize(xbar_axil_periph_axi_arsize),
        .axil_periph_axi_arburst(xbar_axil_periph_axi_arburst),
        .axil_periph_axi_arlock(xbar_axil_periph_axi_arlock),
        .axil_periph_axi_arcache(xbar_axil_periph_axi_arcache),
        .axil_periph_axi_arprot(xbar_axil_periph_axi_arprot),
        .axil_periph_axi_arqos(xbar_axil_periph_axi_arqos),
        .axil_periph_axi_arregion(xbar_axil_periph_axi_arregion),
        .axil_periph_axi_aruser(xbar_axil_periph_axi_aruser),
        .axil_periph_axi_arvalid(xbar_axil_periph_axi_arvalid),
        .axil_periph_axi_arready(xbar_axil_periph_axi_arready),
        .axil_periph_axi_rid(xbar_axil_periph_axi_rid),
        .axil_periph_axi_rdata(xbar_axil_periph_axi_rdata),
        .axil_periph_axi_rresp(xbar_axil_periph_axi_rresp),
        .axil_periph_axi_rlast(xbar_axil_periph_axi_rlast),
        .axil_periph_axi_ruser(xbar_axil_periph_axi_ruser),
        .axil_periph_axi_rvalid(xbar_axil_periph_axi_rvalid),
        .axil_periph_axi_rready(xbar_axil_periph_axi_rready)
    );

    // ================================================================
    // Slave Adapter Instantiations (AXI4 Slaves)
    // Provides timing isolation (axi4_master_wr/rd wrappers)
    // ================================================================

    // periph_rd adapter (crossbar → external slave)
    periph_rd_adapter u_periph_rd_adapter (
        .aclk(aclk),
        .aresetn(aresetn),

        // Crossbar interface (internal signals)
        .xbar_periph_rd_axi_arid(xbar_periph_rd_axi_arid),
        .xbar_periph_rd_axi_araddr(xbar_periph_rd_axi_araddr),
        .xbar_periph_rd_axi_arlen(xbar_periph_rd_axi_arlen),
        .xbar_periph_rd_axi_arsize(xbar_periph_rd_axi_arsize),
        .xbar_periph_rd_axi_arburst(xbar_periph_rd_axi_arburst),
        .xbar_periph_rd_axi_arlock(xbar_periph_rd_axi_arlock),
        .xbar_periph_rd_axi_arcache(xbar_periph_rd_axi_arcache),
        .xbar_periph_rd_axi_arprot(xbar_periph_rd_axi_arprot),
        .xbar_periph_rd_axi_arqos(xbar_periph_rd_axi_arqos),
        .xbar_periph_rd_axi_arregion(xbar_periph_rd_axi_arregion),
        .xbar_periph_rd_axi_aruser(xbar_periph_rd_axi_aruser),
        .xbar_periph_rd_axi_arvalid(xbar_periph_rd_axi_arvalid),
        .xbar_periph_rd_axi_arready(xbar_periph_rd_axi_arready),
        .xbar_periph_rd_axi_rid(xbar_periph_rd_axi_rid),
        .xbar_periph_rd_axi_rdata(xbar_periph_rd_axi_rdata),
        .xbar_periph_rd_axi_rresp(xbar_periph_rd_axi_rresp),
        .xbar_periph_rd_axi_rlast(xbar_periph_rd_axi_rlast),
        .xbar_periph_rd_axi_ruser(xbar_periph_rd_axi_ruser),
        .xbar_periph_rd_axi_rvalid(xbar_periph_rd_axi_rvalid),
        .xbar_periph_rd_axi_rready(xbar_periph_rd_axi_rready),

        // External slave interface
        .periph_rd_axi_arid(periph_rd_axi_arid),
        .periph_rd_axi_araddr(periph_rd_axi_araddr),
        .periph_rd_axi_arlen(periph_rd_axi_arlen),
        .periph_rd_axi_arsize(periph_rd_axi_arsize),
        .periph_rd_axi_arburst(periph_rd_axi_arburst),
        .periph_rd_axi_arlock(periph_rd_axi_arlock),
        .periph_rd_axi_arcache(periph_rd_axi_arcache),
        .periph_rd_axi_arprot(periph_rd_axi_arprot),
        .periph_rd_axi_arqos(periph_rd_axi_arqos),
        .periph_rd_axi_arregion(periph_rd_axi_arregion),
        .periph_rd_axi_aruser(periph_rd_axi_aruser),
        .periph_rd_axi_arvalid(periph_rd_axi_arvalid),
        .periph_rd_axi_arready(periph_rd_axi_arready),
        .periph_rd_axi_rid(periph_rd_axi_rid),
        .periph_rd_axi_rdata(periph_rd_axi_rdata),
        .periph_rd_axi_rresp(periph_rd_axi_rresp),
        .periph_rd_axi_rlast(periph_rd_axi_rlast),
        .periph_rd_axi_ruser(periph_rd_axi_ruser),
        .periph_rd_axi_rvalid(periph_rd_axi_rvalid),
        .periph_rd_axi_rready(periph_rd_axi_rready)
    );

    // ddr_rd adapter (crossbar → external slave)
    ddr_rd_adapter u_ddr_rd_adapter (
        .aclk(aclk),
        .aresetn(aresetn),

        // Crossbar interface (internal signals)
        .xbar_ddr_rd_axi_arid(xbar_ddr_rd_axi_arid),
        .xbar_ddr_rd_axi_araddr(xbar_ddr_rd_axi_araddr),
        .xbar_ddr_rd_axi_arlen(xbar_ddr_rd_axi_arlen),
        .xbar_ddr_rd_axi_arsize(xbar_ddr_rd_axi_arsize),
        .xbar_ddr_rd_axi_arburst(xbar_ddr_rd_axi_arburst),
        .xbar_ddr_rd_axi_arlock(xbar_ddr_rd_axi_arlock),
        .xbar_ddr_rd_axi_arcache(xbar_ddr_rd_axi_arcache),
        .xbar_ddr_rd_axi_arprot(xbar_ddr_rd_axi_arprot),
        .xbar_ddr_rd_axi_arqos(xbar_ddr_rd_axi_arqos),
        .xbar_ddr_rd_axi_arregion(xbar_ddr_rd_axi_arregion),
        .xbar_ddr_rd_axi_aruser(xbar_ddr_rd_axi_aruser),
        .xbar_ddr_rd_axi_arvalid(xbar_ddr_rd_axi_arvalid),
        .xbar_ddr_rd_axi_arready(xbar_ddr_rd_axi_arready),
        .xbar_ddr_rd_axi_rid(xbar_ddr_rd_axi_rid),
        .xbar_ddr_rd_axi_rdata(xbar_ddr_rd_axi_rdata),
        .xbar_ddr_rd_axi_rresp(xbar_ddr_rd_axi_rresp),
        .xbar_ddr_rd_axi_rlast(xbar_ddr_rd_axi_rlast),
        .xbar_ddr_rd_axi_ruser(xbar_ddr_rd_axi_ruser),
        .xbar_ddr_rd_axi_rvalid(xbar_ddr_rd_axi_rvalid),
        .xbar_ddr_rd_axi_rready(xbar_ddr_rd_axi_rready),

        // External slave interface
        .ddr_rd_axi_arid(ddr_rd_axi_arid),
        .ddr_rd_axi_araddr(ddr_rd_axi_araddr),
        .ddr_rd_axi_arlen(ddr_rd_axi_arlen),
        .ddr_rd_axi_arsize(ddr_rd_axi_arsize),
        .ddr_rd_axi_arburst(ddr_rd_axi_arburst),
        .ddr_rd_axi_arlock(ddr_rd_axi_arlock),
        .ddr_rd_axi_arcache(ddr_rd_axi_arcache),
        .ddr_rd_axi_arprot(ddr_rd_axi_arprot),
        .ddr_rd_axi_arqos(ddr_rd_axi_arqos),
        .ddr_rd_axi_arregion(ddr_rd_axi_arregion),
        .ddr_rd_axi_aruser(ddr_rd_axi_aruser),
        .ddr_rd_axi_arvalid(ddr_rd_axi_arvalid),
        .ddr_rd_axi_arready(ddr_rd_axi_arready),
        .ddr_rd_axi_rid(ddr_rd_axi_rid),
        .ddr_rd_axi_rdata(ddr_rd_axi_rdata),
        .ddr_rd_axi_rresp(ddr_rd_axi_rresp),
        .ddr_rd_axi_rlast(ddr_rd_axi_rlast),
        .ddr_rd_axi_ruser(ddr_rd_axi_ruser),
        .ddr_rd_axi_rvalid(ddr_rd_axi_rvalid),
        .ddr_rd_axi_rready(ddr_rd_axi_rready)
    );

    // hbm_rd adapter (crossbar → external slave)
    hbm_rd_adapter u_hbm_rd_adapter (
        .aclk(aclk),
        .aresetn(aresetn),

        // Crossbar interface (internal signals)
        .xbar_hbm_rd_axi_arid(xbar_hbm_rd_axi_arid),
        .xbar_hbm_rd_axi_araddr(xbar_hbm_rd_axi_araddr),
        .xbar_hbm_rd_axi_arlen(xbar_hbm_rd_axi_arlen),
        .xbar_hbm_rd_axi_arsize(xbar_hbm_rd_axi_arsize),
        .xbar_hbm_rd_axi_arburst(xbar_hbm_rd_axi_arburst),
        .xbar_hbm_rd_axi_arlock(xbar_hbm_rd_axi_arlock),
        .xbar_hbm_rd_axi_arcache(xbar_hbm_rd_axi_arcache),
        .xbar_hbm_rd_axi_arprot(xbar_hbm_rd_axi_arprot),
        .xbar_hbm_rd_axi_arqos(xbar_hbm_rd_axi_arqos),
        .xbar_hbm_rd_axi_arregion(xbar_hbm_rd_axi_arregion),
        .xbar_hbm_rd_axi_aruser(xbar_hbm_rd_axi_aruser),
        .xbar_hbm_rd_axi_arvalid(xbar_hbm_rd_axi_arvalid),
        .xbar_hbm_rd_axi_arready(xbar_hbm_rd_axi_arready),
        .xbar_hbm_rd_axi_rid(xbar_hbm_rd_axi_rid),
        .xbar_hbm_rd_axi_rdata(xbar_hbm_rd_axi_rdata),
        .xbar_hbm_rd_axi_rresp(xbar_hbm_rd_axi_rresp),
        .xbar_hbm_rd_axi_rlast(xbar_hbm_rd_axi_rlast),
        .xbar_hbm_rd_axi_ruser(xbar_hbm_rd_axi_ruser),
        .xbar_hbm_rd_axi_rvalid(xbar_hbm_rd_axi_rvalid),
        .xbar_hbm_rd_axi_rready(xbar_hbm_rd_axi_rready),

        // External slave interface
        .hbm_rd_axi_arid(hbm_rd_axi_arid),
        .hbm_rd_axi_araddr(hbm_rd_axi_araddr),
        .hbm_rd_axi_arlen(hbm_rd_axi_arlen),
        .hbm_rd_axi_arsize(hbm_rd_axi_arsize),
        .hbm_rd_axi_arburst(hbm_rd_axi_arburst),
        .hbm_rd_axi_arlock(hbm_rd_axi_arlock),
        .hbm_rd_axi_arcache(hbm_rd_axi_arcache),
        .hbm_rd_axi_arprot(hbm_rd_axi_arprot),
        .hbm_rd_axi_arqos(hbm_rd_axi_arqos),
        .hbm_rd_axi_arregion(hbm_rd_axi_arregion),
        .hbm_rd_axi_aruser(hbm_rd_axi_aruser),
        .hbm_rd_axi_arvalid(hbm_rd_axi_arvalid),
        .hbm_rd_axi_arready(hbm_rd_axi_arready),
        .hbm_rd_axi_rid(hbm_rd_axi_rid),
        .hbm_rd_axi_rdata(hbm_rd_axi_rdata),
        .hbm_rd_axi_rresp(hbm_rd_axi_rresp),
        .hbm_rd_axi_rlast(hbm_rd_axi_rlast),
        .hbm_rd_axi_ruser(hbm_rd_axi_ruser),
        .hbm_rd_axi_rvalid(hbm_rd_axi_rvalid),
        .hbm_rd_axi_rready(hbm_rd_axi_rready)
    );

    // ================================================================
    // APB Shim Instantiations
    // Converts crossbar AXI4 outputs to APB protocol
    // ================================================================

    // APB Shim: apb_periph
    // Crossbar AXI4 (32b addr, 32b data) → External APB (32b addr, 32b data)
    axi4_to_apb_shim #(
        .DEPTH_AW(2),
        .DEPTH_W(4),
        .DEPTH_B(2),
        .DEPTH_AR(2),
        .DEPTH_R(4),
        .SIDE_DEPTH(4),
        .APB_CMD_DEPTH(4),
        .APB_RSP_DEPTH(4),
        .AXI_ID_WIDTH(4),
        .AXI_ADDR_WIDTH(32),
        .AXI_DATA_WIDTH(32),
        .AXI_USER_WIDTH(1),
        .APB_ADDR_WIDTH(32),
        .APB_DATA_WIDTH(32)
    ) u_apb_shim_apb_periph (
        .aclk(aclk),
        .aresetn(aresetn),
        .pclk(aclk),
        .presetn(aresetn),
        
        // AXI4 Slave (from crossbar)
        // Write channels tied off (read-only bridge)
        .s_axi_awid(4'b0),
        .s_axi_awaddr(32'b0),
        .s_axi_awlen(8'b0),
        .s_axi_awsize(3'b0),
        .s_axi_awburst(2'b0),
        .s_axi_awlock(1'b0),
        .s_axi_awcache(4'b0),
        .s_axi_awprot(3'b0),
        .s_axi_awqos(4'b0),
        .s_axi_awregion(4'b0),
        .s_axi_awuser(1'b0),
        .s_axi_awvalid(1'b0),
        .s_axi_awready(),  // Unconnected
        .s_axi_wdata(32'b0),
        .s_axi_wstrb(4'b0),
        .s_axi_wlast(1'b0),
        .s_axi_wuser(1'b0),
        .s_axi_wvalid(1'b0),
        .s_axi_wready(),  // Unconnected
        .s_axi_bid(),  // Unconnected
        .s_axi_bresp(),  // Unconnected
        .s_axi_buser(),  // Unconnected
        .s_axi_bvalid(),  // Unconnected
        .s_axi_bready(1'b0),
        
        .s_axi_arid(xbar_apb_periph_axi_arid),
        .s_axi_araddr(xbar_apb_periph_axi_araddr),
        .s_axi_arlen(xbar_apb_periph_axi_arlen),
        .s_axi_arsize(xbar_apb_periph_axi_arsize),
        .s_axi_arburst(xbar_apb_periph_axi_arburst),
        .s_axi_arlock(xbar_apb_periph_axi_arlock),
        .s_axi_arcache(xbar_apb_periph_axi_arcache),
        .s_axi_arprot(xbar_apb_periph_axi_arprot),
        .s_axi_arqos(4'b0),
        .s_axi_arregion(4'b0),
        .s_axi_aruser(1'b0),
        .s_axi_arvalid(xbar_apb_periph_axi_arvalid),
        .s_axi_arready(xbar_apb_periph_axi_arready),
        .s_axi_rid(xbar_apb_periph_axi_rid),
        .s_axi_rdata(xbar_apb_periph_axi_rdata),
        .s_axi_rresp(xbar_apb_periph_axi_rresp),
        .s_axi_rlast(xbar_apb_periph_axi_rlast),
        .s_axi_ruser(),
        .s_axi_rvalid(xbar_apb_periph_axi_rvalid),
        .s_axi_rready(xbar_apb_periph_axi_rready),
        
        // APB Master (to external APB slave)
        .m_apb_PSEL(apb_periph_psel),
        .m_apb_PADDR(apb_periph_paddr),
        .m_apb_PENABLE(apb_periph_penable),
        .m_apb_PWRITE(apb_periph_pwrite),
        .m_apb_PWDATA(apb_periph_pwdata),
        .m_apb_PSTRB(apb_periph_pstrb),
        .m_apb_PPROT(apb_periph_pprot),
        .m_apb_PRDATA(apb_periph_prdata),
        .m_apb_PREADY(apb_periph_pready),
        .m_apb_PSLVERR(apb_periph_pslverr)
    );

endmodule : bridge_1x5_rd
