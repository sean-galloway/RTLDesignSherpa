<!-- RTL Design Sherpa Documentation Header -->
<table>
<tr>
<td width="80">
  <a href="https://github.com/sean-galloway/RTLDesignSherpa">
    <img src="https://raw.githubusercontent.com/sean-galloway/RTLDesignSherpa/main/docs/logos/Logo_200px.png" alt="RTL Design Sherpa" width="70">
  </a>
</td>
<td>
  <strong>RTL Design Sherpa</strong> · <em>Learning Hardware Design Through Practice</em><br>
  <sub>
    <a href="https://github.com/sean-galloway/RTLDesignSherpa">GitHub</a> ·
    <a href="https://github.com/sean-galloway/RTLDesignSherpa/blob/main/docs/DOCUMENTATION_INDEX.md">Documentation Index</a> ·
    <a href="https://github.com/sean-galloway/RTLDesignSherpa/blob/main/LICENSE">MIT License</a>
  </sub>
</td>
</tr>
</table>

---

<!-- End Header -->

# APB GPIO - Register File Block

## Overview

The register file is generated by PeakRDL from `apb_gpio.rdl` and provides hardware/software interface for GPIO control.

## Block Diagram

![Register File Block](../assets/svg/gpio_register_file.svg)

## Generated Interface (HWIF)

### Hardware-to-Software (hw2reg)

| Signal | Width | Description |
|--------|-------|-------------|
| gpio_input.data | 32 | Current GPIO input values |
| gpio_int_status.data | 32 | Interrupt status bits |

### Software-to-Hardware (reg2hw)

| Signal | Width | Description |
|--------|-------|-------------|
| gpio_control.enable | 1 | GPIO enable |
| gpio_direction.data | 32 | Pin direction (0=in, 1=out) |
| gpio_output.data | 32 | Output values |
| gpio_int_enable.data | 32 | Interrupt enable per pin |
| gpio_int_type.data | 32 | Interrupt type (0=edge, 1=level) |
| gpio_int_polarity.data | 32 | Polarity (0=fall/low, 1=rise/high) |
| gpio_int_both.data | 32 | Both edges enable |

## Register Access

### Byte Enable Support

All registers support byte-granular writes via pstrb:
- `pstrb[0]` enables bits [7:0]
- `pstrb[1]` enables bits [15:8]
- `pstrb[2]` enables bits [23:16]
- `pstrb[3]` enables bits [31:24]

### Access Types

| Type | Read Behavior | Write Behavior |
|------|---------------|----------------|
| RW | Returns current value | Updates register |
| RO | Returns hardware value | No effect |
| W1C | Returns current value | Clears bits where 1 written |

## Implementation Notes

- Generated by PeakRDL regblock
- Synchronous to pclk domain
- All registers reset to 0

---

**Next:** [03_gpio_core.md](03_gpio_core.md) - GPIO Core
