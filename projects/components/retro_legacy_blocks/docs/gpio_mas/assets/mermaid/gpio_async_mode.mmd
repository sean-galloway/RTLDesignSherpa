%%{init: {'theme': 'neutral'}}%%
flowchart TB
    subgraph APB_CLK["APB Clock Domain (pclk)"]
        APB_P[apb_slave_cdc<br/>pclk side]
    end

    subgraph CDC["CDC Boundary"]
        SKID[Skid Buffers]
    end

    subgraph GPIO_CLK["GPIO Clock Domain (gpio_clk)"]
        APB_G[apb_slave_cdc<br/>gpio_clk side]
        P2C[peakrdl_to_cmdrsp]
        CFG[gpio_config_regs]
        REGS[gpio_regs]
        CORE[gpio_core]
    end

    APB_P --> SKID
    SKID --> APB_G
    APB_G --> P2C
    P2C --> CFG
    CFG --> REGS
    REGS --> CORE

    style APB_CLK fill:#e1f5fe
    style GPIO_CLK fill:#e8f5e9
    style CDC fill:#fff3e0
