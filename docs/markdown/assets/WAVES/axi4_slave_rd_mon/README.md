# AXI4 Slave Read Monitor Waveforms

**Status:** ✅ Working - 2 waveforms generated

This directory contains WaveDrom timing diagrams for the `axi4_slave_rd_mon` module, demonstrating read transactions from the slave perspective.

## Generated Waveforms

### 1. single_beat_read_001.json
**First single-beat read transaction**
- Address: 0x1000
- Data: 0x00001000 (from memory model)
- Shows complete AR → R → MonBus flow from slave side
- Monitor packet generated after transaction completes

### 2. single_beat_read_002_001.json
**Second single-beat read transaction**
- Address: 0x2000
- Data: 0x00002000 (from memory model)
- Demonstrates second transaction with different address
- Shows consistent slave-side monitoring behavior

## Signal Groups

### Clock & Reset
- `aclk` - System clock
- `aresetn` - Active-low reset

### AR Channel (Read Address) - Slave Perspective
- `s_axi_arvalid` - Address valid (from master)
- `s_axi_arready` - Address ready (from slave)
- `s_axi_arid` - Transaction ID
- `s_axi_araddr` - Read address
- `s_axi_arlen` - Burst length

### R Channel (Read Data) - Slave Perspective
- `s_axi_rvalid` - Data valid (from slave)
- `s_axi_rready` - Data ready (from master)
- `s_axi_rid` - Transaction ID
- `s_axi_rdata` - Read data
- `s_axi_rlast` - Last beat indicator
- `s_axi_rresp` - Response status

### Monitor Bus
- `monbus_valid` - Monitor packet valid
- `monbus_ready` - Monitor packet ready

## Transaction Flow (Slave Perspective)

1. **AR Reception:** Master drives arvalid with address, slave accepts with arready
2. **Data Lookup:** Slave reads data from memory model
3. **R Response:** Slave drives rvalid with data, master accepts with rready
4. **MonBus Packet:** Monitor generates packet on monbus after transaction completes

## Slave vs Master Perspective

**Key Difference**: Slave monitor shows the `s_axi_*` signals (slave interface), while master monitor shows `m_axi_*` signals (master interface).

- **Master Monitor**: Monitors what the master is sending/receiving
- **Slave Monitor**: Monitors what the slave is receiving/sending

Both generate the same monitor bus packet format for system-level observability.

## Implementation Notes

- **Test File:** `val/amba/test_axi4_slave_rd_mon.py::axi4_slave_rd_mon_wavedrom_test`
- **Signal Bindings:** All s_axi_* signals manually bound (slave AXI interface)
- **Constraints:** Uses SignalTransition on s_axi_arvalid (0→1) to trigger capture
- **Capture Window:** 80 cycles with 20 post-match cycles to capture monbus packet
- **Pattern:** Each constraint captures complete transaction from slave perspective

## Generating Waveforms

Run the wavedrom test:

```bash
env ENABLE_WAVEDROM=1 pytest "val/amba/test_axi4_slave_rd_mon.py::test_axi4_slave_rd_mon" -v
```

Copy generated files to docs:

```bash
cp val/amba/local_sim_build/test_axi4_slave_rd_mon_full/single_beat_read*.json \
   docs/markdown/assets/WAVES/axi4_slave_rd_mon/
```

## Key Lessons from Implementation

1. **Slave API Difference:** Used `single_read_response_test()` instead of `single_read_test()`
2. **Signal Naming:** s_axi_* for slave monitors (vs m_axi_* for master monitors)
3. **Simple Constraints:** Single-event constraints (s_axi_arvalid 0→1) capture full transaction
4. **Perspective Matters:** Slave monitor captures transactions from slave viewpoint

## Related Documentation

- [AXI4 Master Read Monitor Waveforms](../axi4_master_rd_mon/) - Master perspective
- [AXI4 Master Write Monitor Waveforms](../axi4_master_wr_mon/) - Master write examples
- [RTL Source](../../../../../rtl/amba/axi4/axi4_slave_rd_mon.sv) - Monitor RTL implementation
- [Test Source](../../../../../val/amba/test_axi4_slave_rd_mon.py) - Complete test with wavedrom

---

**Last Updated:** 2025-10-11
**Generated By:** WaveDrom constraint-based generation from RTL simulation
