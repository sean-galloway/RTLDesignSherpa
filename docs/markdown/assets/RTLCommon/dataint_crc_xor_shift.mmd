%%{init: {'theme': 'neutral', 'themeVariables': { 'fontSize': '14px'}}}%%
flowchart LR
    subgraph Inputs
        DATA["i_data[WIDTH-1:0]"]
        CRC_IN["i_crc[CRC_WIDTH-1:0]"]
    end

    subgraph dataint_crc_xor_shift["dataint_crc_xor_shift"]
        subgraph XOR_Stage["XOR with Data"]
            XOR["data ^ crc[MSB]"]
        end

        subgraph Shift_Stage["Polynomial Shift"]
            SHIFT["crc << 1"]
        end

        subgraph Tap_Stage["Tap XOR"]
            TAPS["Apply polynomial taps\nwhere bit was 1"]
        end
    end

    subgraph Outputs
        CRC_OUT["o_crc[CRC_WIDTH-1:0]"]
    end

    DATA --> XOR_Stage
    CRC_IN --> XOR_Stage
    CRC_IN --> Shift_Stage
    XOR_Stage --> Tap_Stage
    Shift_Stage --> Tap_Stage
    Tap_Stage --> CRC_OUT
